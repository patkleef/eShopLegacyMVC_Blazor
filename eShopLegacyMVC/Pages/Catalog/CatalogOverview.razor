@page "/"

<div class="container-fluid">
    <div class="row">
        <div class="col-2">
            <CatalogStatistics />
        </div>
        <div class="col-10">
            <div class="esh-table">
                <p class="esh-link-wrapper">
                    <a href="Catalog/Edit" class="btn esh-button esh-button-primary">
                        Create New
                    </a>
                </p>

                <table class="table">
                    <thead>
                        <tr class="esh-table-header">
                            <th>
                            </th>
                            <th>
                                Name
                            </th>
                            <th>
                                Description
                            </th>
                            <th>
                                Brand
                            </th>
                            <th>
                                Type
                            </th>
                            <th>
                                Price
                            </th>
                            <th>
                                Picture name
                            </th>
                            <th>
                                Stock
                            </th>
                            <th>
                                Restock
                            </th>
                            <th>
                                Max stock
                            </th>
                            <th></th>
                        </tr>
                    </thead>
                    <tbody>
                        @foreach (var item in CatalogItems.Data)
                        {
                            <tr>
                                <td>
                                    <img class="esh-thumbnail" src="@($"/Pics/{item.PictureFileName}")" />
                                </td>
                                <td>
                                    @item.Name
                                </td>
                                <td>
                                    @item.Description
                                </td>
                                <td>
                                    @item.CatalogBrand.Brand
                                </td>
                                <td>
                                    @item.CatalogType.Type
                                </td>
                                <td class="esh-table-price">
                                    @item.Price
                                </td>
                                <td>
                                    @item.PictureFileName
                                </td>
                                <td>
                                    @item.AvailableStock
                                </td>
                                <td>
                                    @item.RestockThreshold
                                </td>
                                <td>
                                    @item.MaxStockThreshold
                                </td>
                                <td>
                                    <a href="@($"/Catalog/Edit/{item.Id}")" class="esh-table-link">
                                        Edit
                                    </a>
                                    |
                                    <a href="@($"/Catalog/Details/{item.Id}")" class="esh-table-link">
                                        Details
                                    </a>
                                    |
                                    <a href="@($"/Catalog/Details/{item.Id}")" class="esh-table-link">
                                        Delete
                                    </a>
                                </td>
                            </tr>}
                    </tbody>

                </table>

                <div class="esh-pager">
                    <div class="container-fluid">
                        <article class="esh-pager-wrapper row">
                            <nav>

                                @if (PageIndex > 0)
                                {
                                    <a @onclick="Previous" class="esh-pager-item esh-pager-item--navigable">
                                        Previous
                                    </a>
                                }

                                <span class="esh-pager-item">
                                    Showing @CatalogItems.ItemsPerPage of @CatalogItems.TotalItems products - Page @(CatalogItems.ActualPage + 1) - @CatalogItems.TotalPages
                                </span>

                                @if (CatalogItems.ActualPage < CatalogItems.TotalPages - 1)
                                {
                                    <a @onclick="Next" class="esh-pager-item esh-pager-item--navigable">
                                        Next
                                    </a>
                                }
                            </nav>
                        </article>
                    </div>
                </div>
            </div>
        </div>
    </div>
</div>